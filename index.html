<!doctype html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>JR DENT</title>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap');
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:'Montserrat',sans-serif;background:#f6f7fb;color:#111}

    .container{width:min(1100px,92%);margin:0 auto}

    /* TOPBAR */
    .topbar{background:#F5F7FA;padding:10px 0}
    .topbar-row{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800}
    .logo-img{height:80px;width:auto;display:block}

    .search{flex:1;display:flex;gap:8px;max-width:520px;margin:0 12px}
    .search input{width:100%;padding:10px 12px;border-radius:10px;border:none;outline:none;background:#eaf1ff;color:#111}
    .search button{padding:10px 12px;border-radius:10px;border:none;cursor:pointer;font-weight:700;background:#1B0561;color:#fff}

    .actions{display:flex;align-items:center;gap:10px;flex-wrap:wrap;justify-content:flex-end}
    .linkbtn{background:transparent;border:2px solid #1B0561;color:#1B0561;padding:8px 14px;border-radius:10px;cursor:pointer;font-weight:700;transition:.3s}
    .linkbtn:hover{background:#fff;color:#111}

    .cart-btn{position:relative;display:flex;align-items:center;justify-content:center;background:transparent;border:2px solid #1B0561;color:#1B0561;width:44px;height:44px;border-radius:12px;cursor:pointer;transition:.3s}
    .cart-btn:hover{background:#fff;color:#111}
    .cart-count{position:absolute;top:-6px;right:-5px;background:red;color:#fff;font-size:12px;font-weight:700;min-width:18px;height:18px;display:flex;align-items:center;justify-content:center;border-radius:999px}

    .userpill{display:flex;align-items:center;gap:10px;padding:8px 12px;border-radius:999px;border:2px solid #1B0561;background:rgba(255,255,255,.12);color:#1B0561;cursor:pointer;font-weight:900;transition:.25s}
    .userpill:hover{background:#fff;color:#111}
    .avatar{width:34px;height:34px;border-radius:999px;display:grid;place-items:center;background:rgba(27,5,97,.12);font-weight:900}
    .username{max-width:140px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
    .hidden{display:none!important}

    /* SUBBAR */
    .subbar{background:#fff;border-bottom:1px solid #e5e7eb;box-shadow:0 8px 18px rgba(0,0,0,.06);padding:4px 0}
    .subbar-inner{width:min(1100px,92%);margin:0 auto;display:flex;align-items:center;gap:10px;padding:2px 0}
    .all-products{display:flex;align-items:center;gap:10px;padding:10px 14px;border-radius:14px;background:#1B0561;color:#fff;font-weight:900;cursor:pointer;user-select:none;transition:.2s;white-space:nowrap}
    .all-products:hover{filter:brightness(1.08)}
    .hamburger{width:18px;height:12px;position:relative;display:inline-block}
    .hamburger span{position:absolute;left:0;right:0;height:2px;background:#fff;border-radius:2px}
    .hamburger span:nth-child(1){top:0}
    .hamburger span:nth-child(2){top:5px;opacity:.9}
    .hamburger span:nth-child(3){top:10px;opacity:.85}

    .subbar ul{list-style:none;display:flex;align-items:center;gap:0;margin-left:6px;flex:1;justify-content:center}
    .subbar li{display:flex;align-items:center}
    .subbar li+li{border-left:1px solid #e5e7eb}
    .subbar a{color:#1B0561;text-decoration:none;font-weight:800;font-size:15px;padding:12px 14px;display:inline-flex;align-items:center;justify-content:center;transition:.18s}
    .subbar a:hover{color:#2563eb;background:rgba(37,99,235,.06)}

    /* HOME SLIDER */
    .slider{position:relative;width:min(1450px,100%);margin:10px auto;overflow:hidden;border-radius:16px;background:#e5e7eb}
    .slides{position:relative;height:620px}
    .slide{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;opacity:0;transition:opacity .6s ease}
    .slide.active{opacity:1}
    .arrow{position:absolute;top:50%;transform:translateY(-50%);background:rgba(0,0,0,.5);border:none;color:#fff;font-size:24px;padding:10px 12px;cursor:pointer;border-radius:50%;z-index:10}
    .arrow.left{left:15px}
    .arrow.right{right:15px}
    .arrow:hover{background:rgba(0,0,0,.8)}

    main{padding:28px 0}
    .card{background:#fff;border-radius:16px;padding:18px;box-shadow:0 10px 24px rgba(0,0,0,.08)}

    .page{padding:18px 0 40px}

    /* HERO */
    .hero-wide{width:min(1200px,92%);margin:18px auto;border-radius:18px;overflow:hidden;position:relative;background:#e5e7eb;box-shadow:0 10px 26px rgba(0,0,0,.10)}
    .hero-wide img{width:100%;height:260px;object-fit:cover;display:block}
    .hero-overlay{position:absolute;inset:0;background:linear-gradient(90deg,rgba(0,0,0,.55),rgba(0,0,0,.10) 60%,rgba(0,0,0,0))}
    .hero-content{position:absolute;left:26px;top:50%;transform:translateY(-50%);color:#fff;max-width:520px}
    .hero-title{font-size:34px;font-weight:900;margin-bottom:8px}
    .hero-text{font-size:14px;opacity:.95;line-height:1.45}

    /* CATÁLOGO LAYOUT */
    .catalog{width:min(1200px,92%);margin:0 auto;display:grid;grid-template-columns:260px 1fr;gap:18px}
    .cat-box{background:#fff;border-radius:16px;box-shadow:0 10px 22px rgba(0,0,0,.08);overflow:hidden}
    .cat-head{background:#1B0561;color:#fff;padding:14px 16px;font-weight:900}

    /* acordeón */
    .cat-acc{padding:8px 0}
    .cat-group{border-bottom:1px solid #eef2f7}
    .cat-top{width:100%;display:flex;align-items:center;justify-content:space-between;padding:13px 16px;background:transparent;border:none;cursor:pointer;font-weight:900;color:#111}
    .cat-top:hover{background:#f5f7ff}
    .chev{transition:transform .18s ease;font-weight:900;opacity:.7}
    .cat-sub{display:none;padding:0 10px 10px}
    .cat-group.open .cat-sub{display:block}
    .cat-group.open .chev{transform:rotate(180deg)}

    .cat-subitem{width:100%;text-align:left;padding:10px 12px;border-radius:12px;background:#f8fafc;border:1px solid #eef2f7;cursor:pointer;font-weight:800;margin-top:8px;color:#111}
    .cat-subitem:hover{background:#eef2ff;border-color:#dbeafe}
    .cat-subitem.active{background:#1B0561;border-color:#1B0561;color:#fff}

    .products-top{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px}
    .products-title{font-size:22px;font-weight:900}
    .products-meta{font-size:12px;color:#666;font-weight:800}

    .products-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:14px}

    .pcard{background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 10px 22px rgba(0,0,0,.08);transition:transform .12s ease,box-shadow .12s ease}
    .pcard:hover{transform:translateY(-2px);box-shadow:0 14px 28px rgba(0,0,0,.12)}
    .pimg{width:100%;height:170px;object-fit:cover;background:#e5e7eb;display:block}
    .pbody{padding:12px 12px 14px}
    .ptitle{font-weight:900;margin-bottom:6px}
    .pdesc{font-size:12px;color:#666;line-height:1.35;margin-bottom:10px;min-height:32px}
    .pbottom{display:flex;align-items:center;justify-content:space-between;gap:10px}
    .pprice{font-weight:900;color:#1B0561}

    /* Comprar ahora + carrito */
    .buy-now{border:none;background:#2563eb;color:#fff;font-weight:900;padding:10px 12px;border-radius:12px;cursor:pointer;display:inline-flex;align-items:center;gap:8px;white-space:nowrap}
    .buy-now:hover{filter:brightness(1.06)}
    .buy-ico{display:inline-grid;place-items:center;width:18px;height:18px;border-radius:999px;background:rgba(255,255,255,.18);font-weight:900;line-height:1}
    .buy-cart{width:18px;height:18px;fill:none;stroke:#fff;stroke-width:2;stroke-linecap:round;stroke-linejoin:round}

    /* CARRUSEL ofertas */
    .best-wrap{width:min(1200px,92%);margin:6px auto 20px}
    .best-head{display:flex;align-items:flex-end;justify-content:space-between;gap:12px;margin-bottom:10px}
    .best-title{font-size:22px;font-weight:900}
    .best-sub{font-size:12px;font-weight:800;color:#666}

    .best-carousel{position:relative;border-radius:18px}
    .best-viewport{overflow:hidden;border-radius:18px;position:relative}
    .best-viewport::before,.best-viewport::after{content:"";position:absolute;top:0;bottom:0;width:70px;pointer-events:none;z-index:4}
    .best-viewport::before{left:0;background:linear-gradient(90deg,rgba(246,247,251,1),rgba(246,247,251,0))}
    .best-viewport::after{right:0;background:linear-gradient(270deg,rgba(246,247,251,1),rgba(246,247,251,0))}
    .best-track{display:flex;gap:14px;padding:6px 52px;transition:transform .35s ease;will-change:transform}
    .best-card{flex:0 0 260px;background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 10px 22px rgba(0,0,0,.08)}
    .best-img{width:100%;height:150px;object-fit:cover;background:#e5e7eb;display:block}
    .best-body{padding:12px}
    .best-name{font-weight:900;margin-bottom:6px}
    .best-desc{font-size:12px;color:#666;min-height:30px;line-height:1.35}
    .best-bottom{display:flex;align-items:center;justify-content:space-between;margin-top:10px;gap:10px}
    .best-price{font-weight:900;color:#1B0561}
    .best-arrow{position:absolute;top:50%;transform:translateY(-50%);width:40px;height:40px;border-radius:999px;border:none;cursor:pointer;z-index:10;background:rgba(27,5,97,.92);color:#fff;font-size:18px}
    .best-arrow.left{left:6px}
    .best-arrow.right{right:6px}
    .best-arrow:hover{filter:brightness(1.08)}

    /* DETALLE PRODUCTO */
    .product-wrap{width:min(1200px,92%);margin:18px auto 40px;display:grid;grid-template-columns:1.15fr .85fr;gap:18px}
    .product-left,.product-right{background:#fff;border-radius:18px;box-shadow:0 10px 22px rgba(0,0,0,.08)}
    .product-left{padding:16px}
    .product-right{padding:18px}

    .prod-gallery{position:relative;border-radius:16px;overflow:hidden;background:#f3f4f6}
    .g-main{width:100%;height:430px;object-fit:contain;display:block;background:#fff}
    .g-arrow{position:absolute;top:50%;transform:translateY(-50%);width:42px;height:42px;border-radius:999px;border:none;background:rgba(27,5,97,.92);color:#fff;cursor:pointer;z-index:5}
    .g-arrow.left{left:10px}
    .g-arrow.right{right:10px}
    .g-dots{position:absolute;left:0;right:0;bottom:10px;display:flex;justify-content:center;gap:8px;z-index:6}
    .g-dot{width:9px;height:9px;border-radius:999px;background:rgba(27,5,97,.25);cursor:pointer}
    .g-dot.active{background:rgba(27,5,97,.95)}

    .prod-title{font-size:22px;font-weight:900;margin-bottom:6px}
    .prod-model{color:#444;font-weight:800;margin-bottom:14px}

    .prod-actions{display:flex;gap:10px;align-items:center;margin-bottom:12px}
    .p-buy{border:none;background:#22c55e;color:#0b1020;font-weight:900;padding:12px 14px;border-radius:12px;cursor:pointer}
    .p-add{flex:1;border:none;background:#2563eb;color:#fff;font-weight:900;padding:12px 14px;border-radius:12px;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:10px}

    .qty-row{display:flex;gap:10px;align-items:center;margin-bottom:16px}
    .qty-stepper{display:flex;align-items:center;border:1px solid #e5e7eb;border-radius:12px;overflow:hidden}
    .qty-stepper button{width:42px;height:42px;border:none;background:#f9fafb;cursor:pointer;font-size:18px;font-weight:900}
    .qty-stepper div{width:56px;height:42px;display:grid;place-items:center;font-weight:900}
    .p-add-final{flex:1;border:none;background:#1B0561;color:#fff;font-weight:900;padding:12px 14px;border-radius:12px;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:10px}

    .tabs{display:flex;gap:10px;border-top:1px solid #eef2f7;padding-top:14px;margin-top:10px}
    .tab{border:1px solid #e5e7eb;background:#f9fafb;padding:10px 12px;border-radius:12px;cursor:pointer;font-weight:900}
    .tab.active{background:#2563eb;border-color:#2563eb;color:#fff}
    .tab-panel{margin-top:12px;color:#333;line-height:1.5;font-weight:600}

    @media (max-width: 980px){
      .catalog{grid-template-columns:1fr}
      .products-grid{grid-template-columns:repeat(2,minmax(0,1fr))}
      .product-wrap{grid-template-columns:1fr}
      .g-main{height:360px}
    }
    @media (max-width: 560px){
      .hero-wide img{height:200px}
      .hero-title{font-size:24px}
      .products-grid{grid-template-columns:1fr}
      .best-card{flex-basis:220px}
      .best-track{padding:6px 40px}
    }
    @media (max-width: 760px){
      .search{display:none}
      .slides{height:260px}
      .logo-img{height:60px}
      .subbar-inner{flex-direction:column;align-items:stretch;gap:10px}
      .subbar ul{justify-content:center;flex-wrap:wrap}
      .all-products{justify-content:center}
    }
  </style>
</head>

<body>
  <!-- TOPBAR -->
  <header class="topbar">
    <div class="container topbar-row">
      <div class="brand">
        <img src="logojr.png" alt="JR DENT" class="logo-img">
      </div>

      <div class="search">
        <input type="text" placeholder="Buscar productos, repuestos, servicios..." />
        <button type="button">Buscar</button>
      </div>

      <div class="actions">
        <button class="linkbtn" id="btnLogin" type="button">Iniciar sesión</button>
        <button class="linkbtn" id="btnRegister" type="button">Crear cuenta</button>

        <button class="userpill hidden" id="userPill" type="button">
          <span class="avatar" id="avatarInitials">JR</span>
          <span class="username" id="userName">Usuario</span>
        </button>

        <button class="linkbtn" id="btnOrders" type="button">Mis compras</button>
        <button class="linkbtn hidden" id="btnLogout" type="button">Salir</button>

        <button class="cart-btn" type="button" id="btnCart" aria-label="Carrito">
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"
               fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="9" cy="21" r="1"/>
            <circle cx="20" cy="21" r="1"/>
            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
          </svg>
          <span class="cart-count" id="cartCount">0</span>
        </button>
      </div>
    </div>
  </header>

  <!-- SUBBAR -->
  <nav class="subbar">
    <div class="subbar-inner">
      <div class="all-products" id="allProductsBtn">
        <span class="hamburger" aria-hidden="true"><span></span><span></span><span></span></span>
        Todos nuestros productos
      </div>

      <ul>
        <li><a href="#" id="navHome">Inicio</a></li>
        <li><a href="#" id="navEquipos">Equipos Dentales</a></li>
        <li><a href="#" id="navRepuestos">Repuestos</a></li>
        <li><a href="#" id="navServicio">Servicio técnico</a></li>
        <li><a href="#" id="navContacto">Contacto</a></li>
      </ul>
    </div>
  </nav>

  <!-- HOME -->
  <section id="homeSection">
    <section class="slider" id="homeSlider">
      <div class="slides">
        <img src="imagen1.jpg" class="slide active" alt="Banner 1">
        <img src="imagen2.jpg" class="slide" alt="Banner 2">
        <img src="imagen3.jpg" class="slide" alt="Banner 3">
      </div>
      <button class="arrow left" id="prevBtn" type="button">❮</button>
      <button class="arrow right" id="nextBtn" type="button">❯</button>
    </section>

    <main>
      <div class="container">
        <div class="card">
          <h1>Bienvenido a JR DENT</h1>
          <p>Catálogo listo: Equipos / Repuestos + detalle de producto + carrito (demo).</p>
        </div>
      </div>
    </main>
  </section>

  <!-- DETALLE PRODUCTO -->
  <section id="pageProduct" class="page hidden">
    <div class="product-wrap">

      <div class="product-left">
        <div class="prod-gallery">
          <button class="g-arrow left" id="gPrev" type="button">❮</button>
          <img id="gMain" class="g-main" src="" alt="Imagen del producto">
          <button class="g-arrow right" id="gNext" type="button">❯</button>
          <div class="g-dots" id="gDots"></div>
        </div>
      </div>

      <div class="product-right">
        <div class="prod-title" id="pName">Producto</div>
        <div class="prod-model">Modelo: <b id="pModel">—</b></div>

        <div class="prod-actions">
          <button class="p-buy" id="pBuyNow" type="button">Comprar</button>

          <button class="p-add" id="pShowQty" type="button">
            Añadir al carrito
            <svg class="buy-cart" viewBox="0 0 24 24" aria-hidden="true">
              <circle cx="9" cy="21" r="1"></circle>
              <circle cx="20" cy="21" r="1"></circle>
              <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
            </svg>
          </button>
        </div>

        <div class="qty-row hidden" id="qtyRow">
          <div class="qty-stepper">
            <button type="button" id="qtyMinus">−</button>
            <div id="qtyVal">1</div>
            <button type="button" id="qtyPlus">+</button>
          </div>

          <button class="p-add-final" id="pAddFinal" type="button">
            Añadir al carro
            <svg class="buy-cart" viewBox="0 0 24 24" aria-hidden="true">
              <circle cx="9" cy="21" r="1"></circle>
              <circle cx="20" cy="21" r="1"></circle>
              <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
            </svg>
          </button>
        </div>

        <div class="tabs">
          <button class="tab active" data-tab="info" type="button">Información</button>
          <button class="tab" data-tab="reviews" type="button">Reseñas</button>
        </div>

        <div class="tab-panel" id="tabInfo">
          <p id="pInfo">Aquí irá la información del producto.</p>
        </div>

        <div class="tab-panel hidden" id="tabReviews">
          <p>Reseñas (lo hacemos luego).</p>
        </div>
      </div>
    </div>
  </section>

  <!-- EQUIPOS -->
  <section id="pageEquipos" class="page hidden">
    <div class="hero-wide">
      <img src="banner-equipos.jpg" alt="JR DENT - Equipos Dentales">
      <div class="hero-overlay"></div>
      <div class="hero-content">
        <div class="hero-title">Equipos Dentales</div>
        <div class="hero-text">Equipos, insumos y soluciones para tu consultorio.</div>
      </div>
    </div>

    <!-- CARRUSEL -->
    <div class="best-wrap">
      <div class="best-head">
        <h2 class="best-title">Nuestras Mejores Ofertas</h2>
        <p class="best-sub">Lo más pedido</p>
      </div>

      <div class="best-carousel" id="bestCarousel">
        <button class="best-arrow left" id="bestPrev" type="button">❮</button>

        <div class="best-viewport" id="bestViewport">
          <div class="best-track" id="bestTrack">

            <article class="best-card">
              <img class="best-img" src="eq1.jpg" alt="Producto 1">
              <div class="best-body">
                <div class="best-name">Lámpara Led B</div>
                <div class="best-desc">Lampara para Fotocurados</div>
                <div class="best-bottom">
                  <div class="best-price">S/ 199.99</div>

                  <button class="buy-now" type="button"
                    data-id="eq-oferta-ledb"
                    data-name="Lámpara Led B"
                    data-model="LED B"
                    data-info="Lampara para fotocurado."
                    data-images="eq1.jpg,eqp2.jpg,eq2.jpg">
                    Comprar ahora
                    <span class="buy-ico">+</span>
                    <svg class="buy-cart" viewBox="0 0 24 24" aria-hidden="true">
                      <circle cx="9" cy="21" r="1"></circle>
                      <circle cx="20" cy="21" r="1"></circle>
                      <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                    </svg>
                  </button>

                </div>
              </div>
            </article>

            <article class="best-card">
              <img class="best-img" src="eq2.jpg" alt="Producto 2">
              <div class="best-body">
                <div class="best-name">UDS M</div>
                <div class="best-desc">Destartraje, Endodoncia</div>
                <div class="best-bottom">
                  <div class="best-price">S/ 419.99</div>

                  <button class="buy-now" type="button"
                    data-id="eq-oferta-udsm"
                    data-name="UDS M"
                    data-model="UDS-M"
                    data-info="Ultrasonido UDS M."
                    data-images="eq2.jpg,eqp1.jpg,eq5.jpg">
                    Comprar ahora
                    <span class="buy-ico">+</span>
                    <svg class="buy-cart" viewBox="0 0 24 24" aria-hidden="true">
                      <circle cx="9" cy="21" r="1"></circle>
                      <circle cx="20" cy="21" r="1"></circle>
                      <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                    </svg>
                  </button>

                </div>
              </div>
            </article>

          </div>
        </div>

        <button class="best-arrow right" id="bestNext" type="button">❯</button>
      </div>
    </div>

    <!-- CATÁLOGO EQUIPOS -->
    <div class="catalog" data-catalog="equipos">
      <aside class="cat-box">
        <div class="cat-head">Categorías</div>

        <div class="cat-acc">
          <div class="cat-group open">
            <button class="cat-top" type="button">Todos <span class="chev">▾</span></button>
            <div class="cat-sub">
              <button class="cat-subitem active" type="button" data-cat="todo" data-brand="all">Ver todo</button>
            </div>
          </div>

          <div class="cat-group">
            <button class="cat-top" type="button">Ultra Sonidos <span class="chev">▾</span></button>
            <div class="cat-sub">
              <button class="cat-subitem" type="button" data-cat="Ultra Sonidos" data-brand="UDS-J1">UDS-J1</button>
              <button class="cat-subitem" type="button" data-cat="Ultra Sonidos" data-brand="UDS-M">UDS-M</button>
            </div>
          </div>

          <div class="cat-group">
            <button class="cat-top" type="button">Lamparas <span class="chev">▾</span></button>
            <div class="cat-sub">
              <button class="cat-subitem" type="button" data-cat="Lamparas" data-brand="LED B">LED B</button>
              <button class="cat-subitem" type="button" data-cat="Lamparas" data-brand="I LED II">I LED II</button>
            </div>
          </div>
        </div>
      </aside>

      <section class="products-area">
        <div class="products-top">
          <div class="products-title" id="equiposTitle">Equipos Dentales</div>
          <div class="products-meta" id="equiposMeta">Mostrando 0 producto(s)</div>
        </div>

        <div class="products-grid" id="equiposGrid">
          <article class="pcard"
            data-cat="Ultra Sonidos"
            data-brand="UDS-J1"
            data-id="eq-uds-j1"
            data-name="UDS J1"
            data-model="UDS-J1"
            data-info="Ultrasonido UDS J1."
            data-images="eqp1.jpg,eq2.jpg,eq5.jpg">
            <img class="pimg" src="eqp1.jpg" alt="UDS J1">
            <div class="pbody">
              <div class="ptitle">UDS J1</div>
              <div class="pdesc">Destartraje</div>
              <div class="pbottom">
                <div class="pprice">S/480.00</div>
                <button class="buy-now" type="button" data-pick="card">
                  Comprar ahora
                  <span class="buy-ico">+</span>
                  <svg class="buy-cart" viewBox="0 0 24 24" aria-hidden="true">
                    <circle cx="9" cy="21" r="1"></circle>
                    <circle cx="20" cy="21" r="1"></circle>
                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                  </svg>
                </button>
              </div>
            </div>
          </article>

          <article class="pcard"
            data-cat="Lamparas"
            data-brand="LED B"
            data-id="eq-led-b"
            data-name="Lámpara LED B"
            data-model="LED B"
            data-info="Fotocurado LED B."
            data-images="eqp2.jpg,eq1.jpg,eq2.jpg">
            <img class="pimg" src="eqp2.jpg" alt="Lámpara LED B">
            <div class="pbody">
              <div class="ptitle">Lámpara LED B</div>
              <div class="pdesc">Potencia 1200 • Fotocurado</div>
              <div class="pbottom">
                <div class="pprice">S/200.00</div>
                <button class="buy-now" type="button" data-pick="card">
                  Comprar ahora
                  <span class="buy-ico">+</span>
                  <svg class="buy-cart" viewBox="0 0 24 24" aria-hidden="true">
                    <circle cx="9" cy="21" r="1"></circle>
                    <circle cx="20" cy="21" r="1"></circle>
                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                  </svg>
                </button>
              </div>
            </div>
          </article>

          <article class="pcard"
            data-cat="Ultra Sonidos"
            data-brand="UDS-M"
            data-id="eq-uds-m"
            data-name="UDS M"
            data-model="UDS-M"
            data-info="Ultrasonido UDS M."
            data-images="eq2.jpg,eqp1.jpg,eq5.jpg">
            <img class="pimg" src="eq2.jpg" alt="UDS M">
            <div class="pbody">
              <div class="ptitle">UDS M</div>
              <div class="pdesc">Destartraje / Endodoncia</div>
              <div class="pbottom">
                <div class="pprice">S/419.99</div>
                <button class="buy-now" type="button" data-pick="card">
                  Comprar ahora
                  <span class="buy-ico">+</span>
                  <svg class="buy-cart" viewBox="0 0 24 24" aria-hidden="true">
                    <circle cx="9" cy="21" r="1"></circle>
                    <circle cx="20" cy="21" r="1"></circle>
                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                  </svg>
                </button>
              </div>
            </div>
          </article>
        </div>
      </section>
    </div>
  </section>

  <!-- REPUESTOS -->
  <section id="pageRepuestos" class="page hidden">
    <div class="hero-wide">
      <img src="banner-repuestos.jpg" alt="JR DENT - Repuestos">
      <div class="hero-overlay"></div>
      <div class="hero-content">
        <div class="hero-title">Repuestos y Accesorios</div>
        <div class="hero-text">Turbinas, micromotores, rodajes y más.</div>
      </div>
    </div>

    <div class="catalog" data-catalog="repuestos">
      <aside class="cat-box">
        <div class="cat-head">Categorías</div>

        <div class="cat-acc">
          <div class="cat-group open">
            <button class="cat-top" type="button">Todos <span class="chev">▾</span></button>
            <div class="cat-sub">
              <button class="cat-subitem active" type="button" data-cat="todo" data-brand="all">Ver todo</button>
            </div>
          </div>

          <div class="cat-group">
            <button class="cat-top" type="button">Rodajes <span class="chev">▾</span></button>
            <div class="cat-sub">
              <button class="cat-subitem" type="button" data-cat="Rodajes" data-brand="NSK">NSK</button>
              <button class="cat-subitem" type="button" data-cat="Rodajes" data-brand="BEING">BEING</button>
              <button class="cat-subitem" type="button" data-cat="Rodajes" data-brand="YOUNITY">YOUNITY</button>
            </div>
          </div>
        </div>
      </aside>

      <section class="products-area">
        <div class="products-top">
          <div class="products-title" id="productsTitle">Repuestos</div>
          <div class="products-meta" id="productsMeta">Mostrando 0 producto(s)</div>
        </div>

        <div class="products-grid" id="productsGrid">

          <!-- MULTI-MARCA -->
          <article class="pcard"
            data-cat="Rodajes"
            data-brand="NSK,BEING,YOUNITY"
            data-id="rep-rodaje-ceramico-001"
            data-name="Rodaje Cerámico (Genérico)"
            data-model="RT-B001CT-S"
            data-info="Rodaje cerámico para alta velocidad."
            data-images="p1.jpg,p2.jpg,p7.jpg,p4.jpg">
            <img class="pimg" src="p1.jpg" alt="Rodaje Cerámico">
            <div class="pbody">
              <div class="ptitle">Rodaje Cerámico (Genérico)</div>
              <div class="pdesc">Compatible con varias marcas.</div>
              <div class="pbottom">
                <div class="pprice">S/40.00</div>
                <button class="buy-now" type="button" data-pick="card">
                  Comprar ahora
                  <span class="buy-ico">+</span>
                  <svg class="buy-cart" viewBox="0 0 24 24" aria-hidden="true">
                    <circle cx="9" cy="21" r="1"></circle>
                    <circle cx="20" cy="21" r="1"></circle>
                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                  </svg>
                </button>
              </div>
            </div>
          </article>

          <article class="pcard"
            data-cat="Rodajes"
            data-brand="NSK"
            data-id="rep-rodaje-nsk-002"
            data-name="Rodaje NSK"
            data-model="NSK-R02"
            data-info="Rodaje NSK."
            data-images="p2.jpg,p1.jpg,p7.jpg">
            <img class="pimg" src="p2.jpg" alt="Rodaje NSK">
            <div class="pbody">
              <div class="ptitle">Rodaje NSK</div>
              <div class="pdesc">Rodaje cerámico.</div>
              <div class="pbottom">
                <div class="pprice">S/55.00</div>
                <button class="buy-now" type="button" data-pick="card">
                  Comprar ahora
                  <span class="buy-ico">+</span>
                  <svg class="buy-cart" viewBox="0 0 24 24" aria-hidden="true">
                    <circle cx="9" cy="21" r="1"></circle>
                    <circle cx="20" cy="21" r="1"></circle>
                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                  </svg>
                </button>
              </div>
            </div>
          </article>

        </div>
      </section>
    </div>
  </section>

  <!-- JS GENERAL -->
  <script>
    const homeSection = document.getElementById("homeSection");
    const pageRepuestos = document.getElementById("pageRepuestos");
    const pageEquipos = document.getElementById("pageEquipos");
    const pageProduct = document.getElementById("pageProduct");

    const navHome = document.getElementById("navHome");
    const navRepuestos = document.getElementById("navRepuestos");
    const navEquipos = document.getElementById("navEquipos");
    const allProductsBtn = document.getElementById("allProductsBtn");

    function hideAllPages(){
      homeSection.classList.add("hidden");
      pageRepuestos.classList.add("hidden");
      pageEquipos.classList.add("hidden");
      pageProduct.classList.add("hidden");
    }
    function goPage(name){
      hideAllPages();
      if(name==="repuestos") pageRepuestos.classList.remove("hidden");
      else if(name==="equipos") pageEquipos.classList.remove("hidden");
      else if(name==="product") pageProduct.classList.remove("hidden");
      else homeSection.classList.remove("hidden");

      window.scrollTo({top:0,behavior:"smooth"});
    }
    window.goPage = goPage;

    navHome.addEventListener("click",(e)=>{e.preventDefault();goPage("home")});
    navRepuestos.addEventListener("click",(e)=>{e.preventDefault();goPage("repuestos")});
    navEquipos.addEventListener("click",(e)=>{e.preventDefault();goPage("equipos")});
    allProductsBtn.addEventListener("click",()=>goPage("repuestos"));

    // Slider Home
    document.addEventListener("DOMContentLoaded", () => {
      const slider = document.getElementById("homeSlider");
      const slides = slider ? slider.querySelectorAll(".slide") : [];
      const nextBtn = document.getElementById("nextBtn");
      const prevBtn = document.getElementById("prevBtn");
      if (!slider || slides.length === 0 || !nextBtn || !prevBtn) return;

      let current = 0;
      function show(i){ slides.forEach(s=>s.classList.remove("active")); slides[i].classList.add("active"); }
      function next(){ current=(current+1)%slides.length; show(current); }
      function prev(){ current=(current-1+slides.length)%slides.length; show(current); }

      nextBtn.addEventListener("click", next);
      prevBtn.addEventListener("click", prev);
      setInterval(next, 5000);
    });
  </script>

  <!-- CARRUSEL OFERTAS INFINITO -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const track = document.getElementById("bestTrack");
      const prev  = document.getElementById("bestPrev");
      const next  = document.getElementById("bestNext");
      if(!track || !prev || !next) return;

      const originalCards = Array.from(track.children);
      originalCards.forEach(c => track.appendChild(c.cloneNode(true)));
      let index = 0;

      function step(){
        const first = track.querySelector(".best-card");
        const gap = parseFloat(getComputedStyle(track).gap || "14");
        return (first ? first.getBoundingClientRect().width : 260) + gap;
      }
      function render(animate=true){
        track.style.transition = animate ? "transform .35s ease" : "none";
        track.style.transform = `translateX(${-index*step()}px)`;
      }
      function nextMove(){
        index++;
        render(true);
        if(index >= originalCards.length){
          setTimeout(()=>{ index=0; render(false); }, 360);
        }
      }
      function prevMove(){
        if(index===0){
          index = originalCards.length;
          render(false);
          requestAnimationFrame(()=>{ index--; render(true); });
          return;
        }
        index--;
        render(true);
      }
      next.addEventListener("click", nextMove);
      prev.addEventListener("click", prevMove);
      window.addEventListener("resize", ()=>render(false));
      render(false);
    });
  </script>

  <!-- ✅ FILTROS CORREGIDOS (EQUIPOS/REPUESTOS SEPARADOS Y SIN MEZCLARSE) -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {

      const norm = (s) => (s||"").toString().trim().toLowerCase();
      const splitList = (v) => (v||"").split(",").map(x=>norm(x)).filter(Boolean);

      function setupCatalog(catalogEl){
        const grid = catalogEl.querySelector(".products-grid");
        const titleEl = catalogEl.querySelector(".products-title");
        const metaEl  = catalogEl.querySelector(".products-meta");
        const sidebar = catalogEl.querySelector(".cat-box");
        if(!grid || !sidebar) return;

        const cards = Array.from(grid.querySelectorAll(".pcard"));

        // estado independiente por catálogo
        const state = { cat: "todo", brand: "all" };

        function apply(){
          let shown = 0;
          cards.forEach(card=>{
            const cats = splitList(card.dataset.cat);
            const brands = splitList(card.dataset.brand);

            const okCat = (state.cat==="todo") || cats.includes(state.cat);
            const okBrand = (state.brand==="all") || brands.includes(state.brand);

            const show = okCat && okBrand;
            card.style.display = show ? "" : "none";
            if(show) shown++;
          });

          if(metaEl) metaEl.textContent = `Mostrando ${shown} producto(s)`;
          if(titleEl){
            const catLabel = state.cat==="todo" ? "Todos" : state.cat;
            const brandLabel = state.brand==="all" ? "" : ` • ${state.brand.toUpperCase()}`;
            titleEl.textContent = catLabel.charAt(0).toUpperCase()+catLabel.slice(1) + brandLabel;
          }
        }

        // acordeón SOLO en su sidebar
        sidebar.querySelectorAll(".cat-top").forEach(btn=>{
          btn.addEventListener("click", ()=>{
            btn.closest(".cat-group")?.classList.toggle("open");
          });
        });

        function setActive(btn){
          sidebar.querySelectorAll(".cat-subitem").forEach(b=>b.classList.remove("active"));
          btn.classList.add("active");
        }

        // clicks SOLO en su sidebar (no se mezcla con el otro catálogo)
        sidebar.querySelectorAll(".cat-subitem").forEach(btn=>{
          btn.addEventListener("click", ()=>{
            state.cat = norm(btn.dataset.cat || "todo");
            state.brand = norm(btn.dataset.brand || "all");
            setActive(btn);
            btn.closest(".cat-group")?.classList.add("open");
            apply();
          });
        });

        apply();
      }

      document.querySelectorAll(".catalog[data-catalog]").forEach(setupCatalog);
    });
  </script>

  <!-- DETALLE PRODUCTO + CARRITO (demo) -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {

      // carrito simple
      function getCart(){ try{return JSON.parse(localStorage.getItem("jr_cart")||"{}")}catch(e){return{}} }
      function setCart(cart){ localStorage.setItem("jr_cart", JSON.stringify(cart)); updateCartCount(); }
      function updateCartCount(){
        const cart = getCart();
        const total = Object.values(cart).reduce((a,b)=>a+(Number(b)||0),0);
        document.getElementById("cartCount").textContent = total;
      }
      updateCartCount();

      let currentProductId=null, galleryIndex=0, galleryImages=[], qty=1;

      function renderDots(){
        const dots=document.getElementById("gDots");
        dots.innerHTML="";
        galleryImages.forEach((_,i)=>{
          const d=document.createElement("div");
          d.className="g-dot"+(i===galleryIndex?" active":"");
          d.addEventListener("click",()=>{galleryIndex=i; renderGallery();});
          dots.appendChild(d);
        });
      }
      function renderGallery(){
        document.getElementById("gMain").src = galleryImages[galleryIndex] || "";
        renderDots();
      }

      function openProduct(data){
        currentProductId = data.id || ("prod-"+Date.now());
        galleryImages = (data.images||[]).filter(Boolean);
        galleryIndex = 0;
        qty = 1;

        document.getElementById("pName").textContent = data.name || "Producto";
        document.getElementById("pModel").textContent = data.model || "—";
        document.getElementById("pInfo").textContent = data.info || "Información del producto.";

        document.getElementById("qtyVal").textContent = qty;
        document.getElementById("qtyRow").classList.add("hidden");

        renderGallery();
        window.goPage("product");
      }

      // CLICK en Comprar ahora (cards y carrusel)
      document.body.addEventListener("click",(e)=>{
        const btn = e.target.closest(".buy-now");
        if(!btn) return;

        const card = btn.closest(".pcard");
        if(card){
          const imgs = (card.dataset.images || "").split(",").map(s=>s.trim()).filter(Boolean);
          openProduct({
            id: card.dataset.id,
            name: card.dataset.name || card.querySelector(".ptitle")?.textContent?.trim(),
            model: card.dataset.model || "—",
            info: card.dataset.info || card.querySelector(".pdesc")?.textContent?.trim(),
            images: imgs.length ? imgs : [card.querySelector("img")?.getAttribute("src")]
          });
          return;
        }

        // carrusel
        const imgs = (btn.dataset.images || "").split(",").map(s=>s.trim()).filter(Boolean);
        openProduct({
          id: btn.dataset.id,
          name: btn.dataset.name,
          model: btn.dataset.model || "—",
          info: btn.dataset.info || "",
          images: imgs
        });
      });

      // galería
      document.getElementById("gPrev").addEventListener("click",()=>{
        if(!galleryImages.length) return;
        galleryIndex = (galleryIndex-1+galleryImages.length)%galleryImages.length;
        renderGallery();
      });
      document.getElementById("gNext").addEventListener("click",()=>{
        if(!galleryImages.length) return;
        galleryIndex = (galleryIndex+1)%galleryImages.length;
        renderGallery();
      });

      // stepper
      document.getElementById("pShowQty").addEventListener("click",()=>{
        document.getElementById("qtyRow").classList.toggle("hidden");
      });
      document.getElementById("qtyMinus").addEventListener("click",()=>{
        qty = Math.max(1, qty-1);
        document.getElementById("qtyVal").textContent = qty;
      });
      document.getElementById("qtyPlus").addEventListener("click",()=>{
        qty = Math.min(10, qty+1);
        document.getElementById("qtyVal").textContent = qty;
      });

      document.getElementById("pAddFinal").addEventListener("click",()=>{
        if(!currentProductId) return;
        const cart=getCart();
        cart[currentProductId]=Math.min(10,(Number(cart[currentProductId])||0)+qty);
        setCart(cart);
        alert(`Añadido al carrito: ${qty} unidad(es)`);
      });

      // tabs
      document.querySelectorAll(".tab").forEach(tab=>{
        tab.addEventListener("click",()=>{
          document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));
          tab.classList.add("active");
          const which = tab.dataset.tab;
          document.getElementById("tabInfo").classList.toggle("hidden", which!=="info");
          document.getElementById("tabReviews").classList.toggle("hidden", which!=="reviews");
        });
      });
    });
  </script>

</body>
</html>





































































































































































































